<div class="ran">
    <h3>üëë‰∫∫Ê∞ó„É©„É≥„Ç≠„É≥„Ç∞üëë</h3>
    </div>
    <table>
    <tr>
    <th class="hyou">È†Ü‰Ωç</th><th>„Éï„É¨„Éº„Ç∫</th><th class="hyou">„ÅÑ„ÅÑ„Å≠Êï∞</th>
    </tr>



    
<%@ranks=Like.group(:post_id).order('count_post_id DESC').limit(5).count(:post_id)%>

   <%@ranks.each.with_index do |rank,i|%>


    <% @tasuku=Task.find_by(id: rank.first) %>
     <%if @tasuku%>

      



    <tr>



      <%if @suuji%>


      
       <% if @suuji != rank.second %>
        <td><%= @j=i+1  %>‰Ωç</td>
        <%else%>
        <td><%= @j %>‰Ωç</td>
        <%end%>
        
        <td><%=link_to(@tasuku.phrase,"/posts/#{rank.first}/comment")%></td>
        <td><%=rank.second%></td>




      <%else%>
        <td><%= i + 1 %>‰Ωç</td>
        <td><%=link_to(@tasuku.phrase,"/posts/#{rank.first}/comment")%></td>
        <td><%=rank.second%></td>
      <%end%>
       




    </tr>


    <% @suuji=Like.where(post_id: rank.first).count %>
    


     <%end%>

     
      


   <%end%>
    </table>